/* liteUploader v1.3.1 | https://github.com/burt202/lite-uploader | Aaron Burtnyk (http://www.burtdev.net) */
$.fn.liteUploader=function(e){function r(e,t,n,r,i){var s=[],o;if(t&&jQuery.inArray(e.type,t.split(","))===-1){o=r||"Incorrect file type (only "+t+" allowed)";s.push({type:"type",message:o})}if(n&&e.size>n){o=i||"File size too big (max "+n+" bytes)";s.push({type:"size",message:o})}return s}var t={script:null,allowedFileTypes:null,maxSizeInBytes:null,typeMessage:null,sizeMessage:null,before:function(){},each:function(e,t){},success:function(e){},fail:function(e){}},n=$.extend(t,e);this.change(function(){var e,t=new FormData,i,s=$(this),o=false,u=[];if(this.files.length===0){return}n.before();for(e=0;e<this.files.length;e+=1){i=this.files[e];u=r(i,n.allowedFileTypes,n.maxSizeInBytes,n.typeMessage,n.sizeMessage);if(u.length>0){o=true}t.append(s.attr("name")+"[]",i);n.each(i,u)}if(o){return}if($(this).attr("id")){t.append("liteUploader_id",$(this).attr("id"))}$.ajax({url:n.script,type:"POST",data:t,processData:false,contentType:false}).always(function(){s.replaceWith(s.val("").clone(true))}).done(function(e){n.success(e)}).fail(function(e){n.fail(e)})})}